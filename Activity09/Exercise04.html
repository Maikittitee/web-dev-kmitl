<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <div id="maincontainer"></div>
			<script>

				// get maincontainer instant
				let maincontainer = document.getElementById("maincontainer");

				// title
				const title = document.createElement("h2");
				title.appendChild(document.createTextNode("Exercise 04: Javascript&DOM"));
				maincontainer.appendChild(title);

				// time

				let timecontainer = document.createElement("div");
				maincontainer.appendChild(timecontainer);


				let worker = new Worker('worker.js');

				// reviever from worker
				worker.onmessage = (msgFromWorker) => {
					if (msgFromWorker.data != 'stop') {
					console.log(msgFromWorker.data)
					timecontainer.textContent = msgFromWorker.data.time;
					timecontainer.style.color = msgFromWorker.data.text_color;
					timecontainer.style.backgroundColor = msgFromWorker.data.bg_color;
					timecontainer.style.position = 'fixed';
					timecontainer.style.right = '0px';
					timecontainer.style.top = '0px';
					button.style.display = 'none'
					}
					else{
						timecontainer.style.position = 'relative';
						
					}
				}

				let isToggle = false;

				// create button
				let button = document.createElement("button");
				let buttonText = document.createTextNode("Click me to start the clock");
				button.appendChild(buttonText);
				maincontainer.appendChild(button);
				maincontainer.appendChild(document.createElement("br"));

				// button logic
				button.addEventListener("click", function() {
					if (!isToggle)	{
						worker.postMessage('start');
						console.log("time button toggle1");
				}
				isToggle = !isToggle;
				});

				timecontainer.addEventListener("click", function(){
					if (isToggle){
						worker.postMessage('stop');
						console.log("timecontainer toggle");
					}
					else{
						worker.postMessage('start');
						console.log("timecontainer toggle2");
					}
					isToggle = !isToggle;
				})

				// personal info

				br2=document.createElement("br");
				br3=document.createElement("br");
				personal_info = document.createElement("div");
				name_id = document.createTextNode("- Krittithee&Tuncharoen of student");
				course = document.createTextNode("- Subject:WEB APPLICATION DEVELOPMENT");
				semester = document.createTextNode("- Semester:2\n");
				personal_info.appendChild(name_id);
				personal_info.appendChild(br2)
				personal_info.appendChild(course);
				personal_info.appendChild(br3)
				personal_info.appendChild(semester);
				personal_info.style.display = "none";
				
				


				let personal_toggle = false;
				personal_header = document.createElement("a");
				personal_header_text = document.createTextNode("Personal Info");
				personal_header.appendChild(personal_header_text);
				maincontainer.appendChild(personal_header);
				maincontainer.appendChild(personal_info);

				// personal header : hover

				personal_header.addEventListener("mouseover", function(){
					personal_header.style.backgroundColor = "yellow";
					console.log("mouse in")
				});
				
				personal_header.addEventListener("mouseout", function(){
					personal_header.style.backgroundColor = "inherit";

					console.log("mouse off")
				});


				// personal header : onclick
				personal_header.addEventListener("click", function(){
					if (!personal_toggle ){
						personal_info.style.display = "list-item"
					}
					else{
						personal_info.style.display = "none"
					}
					personal_toggle = !personal_toggle;
				});


				// 4 clickable paragraph
				 

			</script>
    </body>
</html>